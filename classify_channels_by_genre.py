import pandas as pd

# ジャンルとキーワードのマッピング辞書
genre_keywords = {
    "ゲーム": ["ゲーム", "実況", "Fortnite", "マイクラ", "スプラ", "APEX", "ポケモン"],
    "音楽": ["歌ってみた", "踊ってみた", "MV", "音楽", "ライブ", "ミュージック"],
    "Vtuber": ["Vtuber", "ぶいちゅーばー", "ホロライブ", "にじさんじ", "個人勢"],
    "教育": ["講座", "勉強", "受験", "教育", "解説", "算数", "英語", "理科", "中学", "高校"],
    "副業": ["副業", "稼ぐ", "収入", "在宅ワーク"],
    "ビジネス": ["経営", "起業", "ビジネス", "仕事", "営業", "会議", "マネジメント"],
    "料理": ["レシピ", "料理", "クッキング", "グルメ", "食べてみた", "食"],
    "旅行": ["旅", "旅行", "観光", "ツアー", "海外", "温泉", "ホテル"],
    "ペット": ["犬", "猫", "ペット", "モルモット", "ハムスター", "爬虫類"],
    "美容": ["メイク", "スキンケア", "美容", "化粧", "ダイエット"],
    "科学": ["科学", "サイエンス", "宇宙", "実験", "研究"],
    "漫画": ["漫画", "マンガ", "ジャンプ", "考察"],
    "アニメ": ["アニメ", "アニソン", "声優", "OP", "ED"],
    "雑学": ["雑学", "トリビア", "豆知識"],
    "心理学": ["心理学", "メンタル", "心", "感情", "性格"],
    "歴史": ["歴史", "戦国", "幕末", "大正", "江戸"],
    "政治": ["政治", "首相", "官僚", "政党", "国会"],
    "ニュース": ["ニュース", "速報", "時事", "報道", "ANN", "NHK"],
    "事件・犯罪": ["事件", "逮捕", "犯罪", "容疑者", "捜査"],
    "お金・節約": ["節約", "家計", "投資", "株", "仮想通貨", "資産", "貯金"],
    "2ch/5chまとめ": ["2ch", "5ch", "なんJ", "VIP", "まとめ", "スレ"],
    "ネット文化": ["炎上", "YouTuber", "配信者", "ネット", "SNS", "切り抜き"],
    "ショート特化": ["Shorts", "ショート", "shorts", "short"],
}

# CSV読み込み
df = pd.read_csv("日本上位チャンネル一覧（SocialBlade取得）.csv")

# ジャンル分類カラムを追加
def classify_channel(name):
    for genre, keywords in genre_keywords.items():
        for kw in keywords:
            if kw.lower() in name.lower():
                return genre
    return "未分類"

df["ジャンル"] = df["チャンネル名"].apply(classify_channel)

# 出力
df.to_csv("分類済み_チャンネル一覧.csv", index=False, encoding="utf-8-sig")
print("✅ 分類結果を保存しました：分類済み_チャンネル一覧.csv")
